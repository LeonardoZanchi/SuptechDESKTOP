<?xml version="1.0" encoding="UTF-8"?>
<!-- ==================================================
         USER FORM VIEW - Tela de Cadastro de UsuÃ¡rios
         ==================================================
         FormulÃ¡rio para criaÃ§Ã£o de novos usuÃ¡rios (Gerente, TÃ©cnico, UsuÃ¡rio).

         Responsabilidades:
         - Coletar dados pessoais e profissionais
         - Validar campos obrigatÃ³rios e formatos (nome, email, senha, telefone)
         - Enviar solicitaÃ§Ã£o de criaÃ§Ã£o via UserRegistrationService

         Controller: br.com.suptec.controllers.UserFormController
         Elementos importantes (fx:id):
         - cmbTipoUsuario : determina campos condicionais (setor/especialidade)
         - txtNome, txtEmail, txtSenha, txtTelefone : campos principais
         - handleSalvar / handleCancelar : handlers para aÃ§Ãµes

         ObservaÃ§Ãµes:
         - A validaÃ§Ã£o usa ValidationUtils/FieldValidator e mensagens sÃ£o exibidas
             via AlertUtils.
-->

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
                        xmlns:fx="http://javafx.com/fxml"
                        fx:controller="br.com.suptec.controllers.UserFormController"
                        styleClass="user-edit-container"
                        stylesheets="@../css/main.css"
                        prefWidth="700"
                        prefHeight="750">

    <!-- CabeÃ§alho -->
    <top>
        <VBox styleClass="header-container">
            <Label text="Novo UsuÃ¡rio" styleClass="page-title"/>
            <Label text="Cadastrar um novo usuÃ¡rio no sistema SUPTEC" styleClass="page-subtitle"/>
            <Separator styleClass="separator"/>
        </VBox>
    </top>

    <!-- FormulÃ¡rio Central com Scroll -->
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="scroll-pane">
            <VBox spacing="25" styleClass="form-container">
            
            <!-- Tipo de UsuÃ¡rio - Primeira seÃ§Ã£o -->
            <VBox spacing="15" styleClass="form-section">
                <Label text="TIPO DE ACESSO" styleClass="section-title"/>
                
                <VBox spacing="8" styleClass="type-selection-section">
                    <Label text="Tipo de UsuÃ¡rio *" styleClass="form-label"/>
                    <ComboBox fx:id="cmbTipoUsuario" 
                             promptText="Selecione o tipo de usuÃ¡rio no sistema"
                             styleClass="form-input" 
                             maxWidth="Infinity"/>
                    <Label text="O tipo de usuÃ¡rio determina as permissÃµes e funcionalidades disponÃ­veis" 
                           styleClass="hint-text">
                        <padding>
                            <Insets left="5"/>
                        </padding>
                    </Label>
                </VBox>
            </VBox>

            <!-- Separador -->
            <Separator styleClass="form-separator"/>

            <!-- InformaÃ§Ãµes Pessoais -->
            <VBox spacing="15" styleClass="form-section">
                <Label text="INFORMAÃ‡Ã•ES PESSOAIS" styleClass="section-title"/>
                
                <!-- Nome -->
                <VBox spacing="8">
                    <Label text="Nome Completo *" styleClass="form-label"/>
                    <TextField fx:id="txtNome" 
                              promptText="Digite o nome completo do usuÃ¡rio"
                              styleClass="form-input"/>
                </VBox>

                <!-- Email -->
                <VBox spacing="8">
                    <Label text="Email *" styleClass="form-label"/>
                    <TextField fx:id="txtEmail" 
                              promptText="Digite o endereÃ§o de email para login"
                              styleClass="form-input"/>
                </VBox>

                <!-- Telefone -->
                <VBox spacing="8">
                    <Label text="Telefone *" styleClass="form-label"/>
                    <TextField fx:id="txtTelefone" 
                              promptText="(00) 00000-0000"
                              styleClass="form-input"/>
                </VBox>
            </VBox>

            <!-- Separador -->
            <Separator styleClass="form-separator"/>

            <!-- InformaÃ§Ãµes Profissionais -->
            <VBox spacing="15" styleClass="form-section">
                <Label text="INFORMAÃ‡Ã•ES PROFISSIONAIS" styleClass="section-title"/>
                
                <!-- Setor (condicional - para Gerentes e UsuÃ¡rios) -->
                <VBox fx:id="vboxSetor" spacing="8" managed="false" visible="false" styleClass="conditional-section">
                    <Label text="Setor *" styleClass="form-label"/>
                    <TextField fx:id="txtSetor" 
                              promptText="Digite o setor de trabalho"
                              styleClass="form-input"/>
                </VBox>

                <!-- Especialidade (condicional - para TÃ©cnicos) -->
                <VBox fx:id="vboxEspecialidade" spacing="8" managed="false" visible="false" styleClass="conditional-section">
                    <Label text="Especialidade *" styleClass="form-label"/>
                    <TextField fx:id="txtEspecialidade" 
                              promptText="Digite a Ã¡rea de especialidade tÃ©cnica"
                              styleClass="form-input"/>
                </VBox>
            </VBox>

            <!-- Separador -->
            <Separator styleClass="form-separator"/>

            <!-- SeguranÃ§a -->
            <VBox spacing="15" styleClass="form-section">
                <Label text="SEGURANÃ‡A E ACESSO" styleClass="section-title"/>
                
                <!-- Senha -->
                <VBox spacing="8">
                    <Label text="Senha *" styleClass="form-label"/>
                    <PasswordField fx:id="txtSenha" 
                                  promptText="Digite uma senha segura (mÃ­nimo 6 caracteres)"
                                  styleClass="form-input"/>
                </VBox>
                
                <!-- Dica sobre senha -->
                <VBox spacing="5" styleClass="password-hint">
                    <Label text="ðŸ’¡ Dica de SeguranÃ§a:" styleClass="hint-text" style="-fx-font-weight: bold;"/>
                    <Label text="â€¢ Use pelo menos 6 caracteres" styleClass="hint-text"/>
                    <Label text="â€¢ Combine letras, nÃºmeros e sÃ­mbolos" styleClass="hint-text"/>
                    <Label text="â€¢ Evite informaÃ§Ãµes pessoais Ã³bvias" styleClass="hint-text"/>
                </VBox>
            </VBox>

            <!-- ObservaÃ§Ã£o sobre campos obrigatÃ³rios -->
            <HBox alignment="CENTER_LEFT" spacing="8" styleClass="required-note">
                <padding>
                    <Insets top="15"/>
                </padding>
                <Label text="*" styleClass="required-asterisk"/>
                <Label text="Campos obrigatÃ³rios" styleClass="hint-text"/>
            </HBox>
            </VBox>
        </ScrollPane>
    </center>
    <!-- BotÃµes de AÃ§Ã£o -->
    <bottom>
        <HBox spacing="20" alignment="CENTER" styleClass="button-container">
            <Button fx:id="btnSalvar" 
                   text="Criar UsuÃ¡rio" 
                   onAction="#handleSalvar"
                   styleClass="btn-primary"
                   prefWidth="180"/>
            
            <Button fx:id="btnCancelar" 
                   text="Cancelar" 
                   onAction="#handleCancelar"
                   styleClass="btn-secondary"
                   prefWidth="150"/>
        </HBox>
    </bottom>

</BorderPane>

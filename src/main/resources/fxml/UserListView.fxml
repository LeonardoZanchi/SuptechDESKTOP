<?xml version="1.0" encoding="UTF-8"?>

<!-- ===========================================
     USER LIST VIEW - Tela de Listagem de UsuÃ¡rios
     ===========================================
     Este arquivo define o layout da tela de listagem de usuÃ¡rios.
     Responsabilidades:
     - Exibir tabela com lista de usuÃ¡rios (tÃ©cnicos, gerentes, usuÃ¡rios)
     - Permitir busca e filtro de usuÃ¡rios
     - Fornecer aÃ§Ãµes de criar, editar, excluir e visualizar
     - Exibir informaÃ§Ãµes: nome, email, setor, telefone e tipo

     Estrutura:
     - TOP: CabeÃ§alho com tÃ­tulo e botÃ£o voltar
     - CENTER: Campo de busca, tabela de usuÃ¡rios e contador
     - BOTTOM: Barra de aÃ§Ãµes (novo, editar, excluir, atualizar)

     Controller: UserListController - gerencia a lÃ³gica da listagem
     =========================================== -->

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="br.com.suptec.controllers.UserListController"
            styleClass="user-edit-container"
            stylesheets="@../css/main.css"
            prefWidth="900"
            prefHeight="700">

    <!-- ===========================================
         REGIÃƒO SUPERIOR - CabeÃ§alho
         =========================================== -->
    <top>
        <VBox styleClass="header-container">
            <HBox alignment="CENTER_LEFT" spacing="20">
                <Button fx:id="btnVoltar" 
                        text="â† Voltar" 
                        onAction="#handleVoltar"
                        styleClass="btn-back"/>
                
                <VBox>
                    <Label text="Gerenciamento de UsuÃ¡rios" styleClass="page-title"/>
                    <Label text="Visualize e gerencie todos os usuÃ¡rios do sistema" styleClass="page-subtitle"/>
                </VBox>
            </HBox>
        </VBox>
    </top>

    <!-- ===========================================
         REGIÃƒO CENTRAL - ConteÃºdo Principal
         =========================================== -->
    <center>
        <VBox spacing="20" styleClass="form-container">

            <!-- Barra de Busca -->
            <VBox spacing="8">
                <Label text="BUSCAR USUÃRIOS" styleClass="section-title"/>
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Label text="ðŸ”" style="-fx-font-size: 18px; -fx-text-fill: -fx-color-primary;"/>
                    <TextField fx:id="searchField"
                              promptText="Digite nome, email, setor ou tipo de usuÃ¡rio..."
                              styleClass="search-field"
                              HBox.hgrow="ALWAYS"/>
                    <Button fx:id="btnAtualizar"
                            text="ðŸ”„ Atualizar"
                            onAction="#handleAtualizar"
                            styleClass="btn-secondary"/>
                </HBox>
            </VBox>

            <!-- Separador -->
            <Separator styleClass="form-separator"/>

            <!-- InformaÃ§Ãµes e Tabela -->
            <VBox spacing="15">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label fx:id="totalUsuariosLabel" 
                           text="0 usuÃ¡rio(s) encontrado(s)"
                           styleClass="info-label"/>
                </HBox>

                <!-- Tabela de UsuÃ¡rios -->
                <TableView fx:id="userTable" 
                          VBox.vgrow="ALWAYS"
                          styleClass="user-table"
                          prefHeight="400">
                    
                    <columns>
                        <TableColumn fx:id="colNome" 
                                    text="Nome" 
                                    sortable="true"
                                    prefWidth="200"/>
                        
                        <TableColumn fx:id="colEmail" 
                                    text="Email" 
                                    sortable="true"
                                    prefWidth="250"/>
                        
                        <TableColumn fx:id="colTelefone" 
                                    text="Telefone" 
                                    sortable="false"
                                    prefWidth="120"/>
                        
                        <TableColumn fx:id="colSetor" 
                                    text="Setor/Especialidade" 
                                    sortable="true"
                                    prefWidth="180"/>
                    
                    <TableColumn fx:id="colTipo" 
                                text="Tipo" 
                                sortable="true"
                                prefWidth="100"/>
                </columns>
                
                <!-- Mensagem quando nÃ£o hÃ¡ dados -->
                <placeholder>
                    <Label text="ðŸ“‹ Nenhum usuÃ¡rio encontrado" styleClass="hint-text" style="-fx-font-size: 16px;"/>
                </placeholder>
            </TableView>
            </VBox>
        </VBox>
    </center>

    <!-- ===========================================
         REGIÃƒO INFERIOR - Barra de AÃ§Ãµes
         =========================================== -->
    <bottom>
        <HBox spacing="15" alignment="CENTER" styleClass="button-container">

            <Button fx:id="btnNovo"
                    text="Novo UsuÃ¡rio"
                    onAction="#handleNovo"
                    styleClass="btn-primary"
                    prefWidth="150"/>

            <Button fx:id="btnInformacoes"
                    text="InformaÃ§Ãµes"
                    onAction="#handleVisualizarDetalhes"
                    styleClass="btn-secondary"
                    prefWidth="130"/>

            <Button fx:id="btnEditar"
                    text=" Editar"
                    onAction="#handleEditar"
                    styleClass="btn-secondary"
                    prefWidth="120"/>

            <Button fx:id="btnExcluir"
                    text="Excluir"
                    onAction="#handleExcluir"
                    styleClass="btn-danger"
                    prefWidth="120"/>
        </HBox>
    </bottom>
</BorderPane>
